<?php

define('AREA_ACCESS', 'area access');
define('AREA_CREATE', 'area create');

/**********************************
 *  Hook implementations
 *********************************/

/**
 * Implements hook_help()
 *
 * @param $path
 * @param $arg
 * @return string
 */
function area_help($path, $arg) {
	switch ($path) {
		case "admin/help#area":
			return '<p>'.  t("Area module") .'</p>';
			break;
	}
}

/**
 * Implements hook_menu()
 *
 * @return array
 */
function area_menu() {
	$items['area'] = array(
    'title' => 'Area',
    'description' => 'Area',
    'page callback' => 'show_area_search',
    'access arguments' => array(AREA_ACCESS),
	'file' => 'area.search.inc',
	);
	$items['area/%'] = array(
    'title' => 'Area',
    'description' => 'View area',
    'page callback' => 'show_area',
	'page arguments' => array(1),
    'access arguments' => array(AREA_ACCESS),
    'type' => MENU_CALLBACK,
	'file' => 'area.inc',
	);
	$items['area/new'] = array(
    'title' => 'Create new area',
    'description' => 'Create an area',
    'page callback' => 'area_new',
	'access arguments' => array(AREA_CREATE),
    'type' => MENU_CALLBACK,
	'file' => 'area.new.inc',
	);
	$items['area/habitat_autocomplete'] = array(
	'title' => 'Habitat autocomplete',
    'page callback' => 'area_habitat_autocomplete',
	'access arguments' => array(AREA_CREATE),
	'type' => MENU_CALLBACK,
	'file' => 'area.ajax.inc',
	);
	$items['area/area_saved_autocomplete'] = array(
	'title' => 'Area autocomplete',
    'page callback' => 'area_saved_autocomplete',
	'access arguments' => array(AREA_CREATE),
	'type' => MENU_CALLBACK,
	'file' => 'area.ajax.inc',
	);
	$items['area/json'] = array(
	'title' => 'area information in json format',
    'page callback' => 'area_json',
	'access arguments' => array(AREA_ACCESS),
	'type' => MENU_CALLBACK,
	'file' => 'area.ajax.inc',
	);
	$items['area/getareas'] = array(
	'title' => 'area information in json format',
    'page callback' => 'get_areas',
	'access arguments' => array(AREA_ACCESS),
	'type' => MENU_CALLBACK,
	'file' => 'area.ajax.inc',
	);

	return $items;
}

/**
 * Implements hook_theme()
 *
 * @return an array with theme template information
 */
function area_theme() {
	return array(
		'area.new' => array(
			'template' => 'area.new',
			'variables' => array()
		),
    	'area.search' => array(
 			'template' => 'area.search',
    	  	'variables' => array()
		),
    	'area.search.byMaps' => array(
 			'template' => 'area.search.byMaps',
    	  	'variables' => array()
		),
		'area.search.byMaps.show' => array(
 			'template' => 'area.search.byMaps.show',
    	  	'variables' => array()
		),
    	'area.search.byField' => array(
 			'template' => 'area.search.byField',
    	  	'variables' => array()
		),
		'area.new.map' => array(
			'template' => 'area.new.map',
			'variables' => array()
		)
	);
}

function area_permission() {
	return array(
	AREA_ACCESS =>  array(
      'title' => t('can view areas'),
	),
	AREA_CREATE =>  array(
      'title' => t('can create areas'),
	),
	);
}
?>